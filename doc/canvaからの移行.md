# 概要
canva AIで、簡単なアプリのフロントエンドをつくった。
本来は、ちゃんとバックエンドを用意して動かすものであるが、とりあえず、見た目が良い状態にした。
これをちゃんとしたWebアプリにしたい

# 目的
- 100人くらいで1ヶ月間使って、UI/UXの検証をしたい
- ローカル開発サーバーを用意し、毎日開発を反映させたい
- 100人くらいでつかうので、ちゃんとインターネット上にデプロイもしたい（毎日1回程度デプロイするイメージ）
- インターネット上のデプロイ先としては vercel を希望するが、仕様上難しければほかでもよい

# 要望
- まず src/fromcanva.html を読み込み、なにをするものなのかを理解してほしい

# 仕様
- ログインというかパスワード不要だが、開いた時に、名前の入力履歴がなかったら、名前を入力してログインさせること
- ブラウザで開いた時に、前回のログインが引き継がれるようにしてほしい（クッキー？をつかうのかな）
- ログイン情報があれば、すぐにタイムライン画面にいく
- なにしてるかの書き込まれたものは、すごくシンプルなデータベースシステムでよいのでサーバーに保管されるようにしてほしい（サーバーが落ちても、サーバー再起動時には終了前のタイムラインデータを引き継ぎたい）
- 1ヶ月間の書き込みボリュームは、3万件程度を想定する
- タイムライン表示中にほかの人が書き込んだら、自分の画面で更新されてほしいが、大変だったら、3秒おきにサーバーにチェックしにいく
- aws/gcpなどにのせて本格的に動かすというよりはまずはvercelで動けばいい（できれば）
- ログアウトボタンもつけてね
- タイムライン表示は最新の1000件までにする

# 技術スタック
- バックエンド: Node.js + Express
- データベース: Vercel Postgres（本番）/ SQLite（開発）
- デプロイ: Vercel
- セッション管理: クッキーベース

# データベース設計
## users テーブル
- id (PRIMARY KEY)
- username (UNIQUE, NOT NULL)
- last_login (DATETIME)
- created_at

## posts テーブル
- id (PRIMARY KEY)
- user_id (FOREIGN KEY → users.id)
- content (TEXT, max 300文字)
- created_at (INDEX付き - タイムライン表示用)
- updated_at

## sessions テーブル（クッキー管理用）
- id (PRIMARY KEY)
- user_id (FOREIGN KEY → users.id)
- session_token (UNIQUE)
- expires_at
- created_at

# API設計
## 認証関連
- POST /api/auth/login - ログイン（ユーザー名のみ）
- POST /api/auth/logout - ログアウト
- GET /api/auth/me - 現在のユーザー情報取得

## 投稿関連
- POST /api/posts - 投稿作成
- GET /api/posts - 投稿一覧取得（最新1000件）
- GET /api/posts/latest - 最新投稿チェック（ポーリング用）

# ファイルの場所
- srcにファイルをおいてね。srcをvercelのrootにしたい

# 作ってほしいドキュメント
- ローカル開発サーバーの立ち上げ方、再起動の方法などのドキュメント
- リモートサーバーへのデプロイ方法のドキュメント

